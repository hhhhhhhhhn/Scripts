#!/bin/sh
TIME=$(date +%s%N)
START=$TIME
RESET="\033[0m"

LASTLINE=""

while IFS= read -r line; do
	printf "$RESET%7.7ss | " "$(echo "scale=3; ( $(date +%s%N) - $TIME ) / 1000000000" | bc)"
	echo "$LASTLINE"
	LASTLINE="$line"
	TIME=$(date +%s%N)
done

echo
echo "Done in $(echo "scale=3; ( $(date +%s%N) - $START ) / 1000000000" | bc)s"
